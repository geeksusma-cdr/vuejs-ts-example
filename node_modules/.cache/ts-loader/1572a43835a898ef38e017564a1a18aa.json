{"remainingRequest":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js??ref--12-1!/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/PostViewer.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/geeksusma/vuejs-ts-example/src/components/PostViewer.vue","mtime":1626092007813},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js","mtime":1625758098083},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js","mtime":1625758104484}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICcuLi9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgICBhc3luYyBzZXR1cChwcm9wcykgewogICAgICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgICAgICBjb25zdCBpZCA9IHVzZVJvdXRlKCkucGFyYW1zLmlkOwogICAgICAgIGlmICghc3RvcmUuZ2V0U3RhdGUoKS5wb3N0cy5sb2FkZWQpIHsKICAgICAgICAgICAgYXdhaXQgc3RvcmUuZmV0Y2hQb3N0cygpOwogICAgICAgIH0KICAgICAgICBjb25zdCBwb3N0ID0gc3RvcmUuZ2V0U3RhdGUoKS5wb3N0cy5hbGwuZ2V0KGlkKTsKICAgICAgICBpZiAoIXBvc3QpIHsKICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1Bvc3Qgd2FzIG5vdCBmb3VuZC4nKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgY2FuRWRpdCA9IHBvc3QuYXV0aG9ySWQgPT09IHN0b3JlLmdldFN0YXRlKCkuYXV0aG9ycy5jdXJyZW50VXNlcklkOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHBvc3QsCiAgICAgICAgICAgIGNhbkVkaXQKICAgICAgICB9OwogICAgfQp9KTsK"},{"version":3,"file":"/Users/geeksusma/vuejs-ts-example/src/components/PostViewer.vue.ts","sourceRoot":"","sources":["/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/PostViewer.vue?vue&type=script&lang=ts"],"names":[],"mappings":"AACA,OAAO,EAAE,eAAe,EAAE,MAAM,KAAK,CAAC;AACtC,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAA;AACrC,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAA;AAEnC,eAAe,eAAe,CAAC;IAC7B,KAAK,CAAC,KAAK,CAAC,KAAK;QACf,MAAM,KAAK,GAAG,QAAQ,EAAE,CAAA;QACxB,MAAM,EAAE,GAAG,QAAQ,EAAE,CAAC,MAAM,CAAC,EAAY,CAAA;QAEzC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE;YAClC,MAAM,KAAK,CAAC,UAAU,EAAE,CAAA;SACzB;QAED,MAAM,IAAI,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;QAE/C,IAAI,CAAC,IAAI,EAAE;YACT,MAAM,KAAK,CAAC,qBAAqB,CAAC,CAAA;SACnC;QAED,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,aAAa,CAAA;QAExE,OAAO;YACL,IAAI;YACJ,OAAO;SACR,CAAA;IACH,CAAC;CACF,CAAC,CAAC","sourcesContent":["\nimport { defineComponent } from 'vue';\nimport { useRoute } from 'vue-router'\nimport { useStore } from '../store'\n\nexport default defineComponent({\n  async setup(props) {\n    const store = useStore()\n    const id = useRoute().params.id as string\n\n    if (!store.getState().posts.loaded) {\n      await store.fetchPosts()\n    }\n\n    const post = store.getState().posts.all.get(id)\n\n    if (!post) {\n      throw Error('Post was not found.')\n    }\n\n    const canEdit = post.authorId === store.getState().authors.currentUserId\n\n    return {\n      post,\n      canEdit\n    }\n  }\n});\n"]}]}