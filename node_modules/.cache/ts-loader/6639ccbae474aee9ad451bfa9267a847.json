{"remainingRequest":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js??ref--12-1!/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue","mtime":1625827117193},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js","mtime":1625758098083},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js","mtime":1625817642607}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIGNvbXB1dGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICIuLi9zdG9yZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IFRpbWVsaW5lUG9zdCBmcm9tICIuL1RpbWVsaW5lUG9zdC52dWUiOwpmdW5jdGlvbiBkZWxheSgpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgc2V0VGltZW91dChyZXMsIDIwMDApOwogICAgfSk7Cn0KZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICAgIG5hbWU6ICJUaW1lbGluZSIsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgVGltZWxpbmVQb3N0OiBUaW1lbGluZVBvc3QsCiAgICB9LAogICAgc2V0dXA6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBwZXJpb2RzLCBzZWxlY3RlZFBlcmlvZCwgc3RvcmUsIGFsbFBvc3RzLCBwb3N0cywgc2VsZWN0UGVyaW9kOwogICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBkZWxheSgpXTsKICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kcyA9IFsiVG9kYXkiLCAiVGhpcyBXZWVrIiwgIlRoaXMgTW9udGgiXTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQZXJpb2QgPSByZWYoIlRvZGF5Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgYWxsUG9zdHMgPSBzdG9yZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldFN0YXRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wb3N0cy5pZHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlUG9zdCA9IHN0b3JlLmdldFN0YXRlKCkucG9zdHMuYWxsLmdldChpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoZVBvc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigiVGhpcyBwb3N0IHdhcyBub3QgZm91bmQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2MuY29uY2F0KHRoZVBvc3QpOwogICAgICAgICAgICAgICAgICAgICAgICB9LCBbXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbFBvc3RzLmZpbHRlcihmdW5jdGlvbiAocG9zdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFBlcmlvZC52YWx1ZSA9PT0gIlRvZGF5IikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zdC5jcmVhdGVkLmlzQWZ0ZXIobW9tZW50KCkuc3VidHJhY3QoMSwgImRheSIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUGVyaW9kLnZhbHVlID09PSAiVGhpcyBXZWVrIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zdC5jcmVhdGVkLmlzQWZ0ZXIobW9tZW50KCkuc3VidHJhY3QoMSwgIndlZWsiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFBlcmlvZC52YWx1ZSA9PT0gIlRoaXMgTW9udGgiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3N0LmNyZWF0ZWQuaXNBZnRlcihtb21lbnQoKS5zdWJ0cmFjdCgxLCAibW9udGgiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0UGVyaW9kID0gZnVuY3Rpb24gKHBlcmlvZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQZXJpb2QudmFsdWUgPSBwZXJpb2Q7CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kczogcGVyaW9kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFBlcmlvZDogc2VsZWN0ZWRQZXJpb2QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0UGVyaW9kOiBzZWxlY3RQZXJpb2QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdHM6IHBvc3RzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKfSk7Cg=="},{"version":3,"file":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue.ts","sourceRoot":"","sources":["/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue?vue&type=script&lang=ts"],"names":[],"mappings":";AACA,OAAO,EAAE,eAAe,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,KAAK,CAAC;AAErD,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAC;AACpC,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,YAAY,MAAM,oBAAoB,CAAC;AAI9C,SAAS,KAAK;IACZ,OAAO,IAAI,OAAO,CAAC,UAAC,GAAG;QACrB,UAAU,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,CAAC;AACL,CAAC;AAED,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,UAAU;IAEhB,UAAU,EAAE;QACV,YAAY,cAAA;KACb;IAEK,KAAK,EAAX;;;;;4BACE,qBAAM,KAAK,EAAE,EAAA;;wBAAb,SAAa,CAAC;wBACR,OAAO,GAAG,CAAC,OAAO,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;wBAC/C,cAAc,GAAG,GAAG,CAAS,OAAO,CAAC,CAAC;wBACtC,KAAK,GAAG,QAAQ,EAAE,CAAC;wBACnB,QAAQ,GAAW,KAAK;6BAC3B,QAAQ,EAAE;6BACV,KAAK,CAAC,GAAG,CAAC,MAAM,CAAS,UAAC,GAAG,EAAE,EAAE;4BAChC,IAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;4BACnD,IAAI,CAAC,OAAO,EAAE;gCACZ,MAAM,KAAK,CAAC,yBAAyB,CAAC,CAAC;6BACxC;4BACD,OAAO,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;wBAC7B,CAAC,EAAE,EAAE,CAAC,CAAC;wBACH,KAAK,GAAG,QAAQ,CAAC;4BACrB,OAAO,QAAQ,CAAC,MAAM,CAAC,UAAC,IAAI;gCAC1B,IAAI,cAAc,CAAC,KAAK,KAAK,OAAO,EAAE;oCACpC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;iCAC1D;gCACD,IAAI,cAAc,CAAC,KAAK,KAAK,WAAW,EAAE;oCACxC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;iCAC3D;gCACD,IAAI,cAAc,CAAC,KAAK,KAAK,YAAY,EAAE;oCACzC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;iCAC5D;gCACD,OAAO,KAAK,CAAC;4BACf,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;wBAEG,YAAY,GAAG,UAAC,MAAc;4BAClC,cAAc,CAAC,KAAK,GAAG,MAAM,CAAC;wBAChC,CAAC,CAAC;wBAEF,sBAAO;gCACL,OAAO,SAAA;gCACP,cAAc,gBAAA;gCACd,YAAY,cAAA;gCACZ,KAAK,OAAA;6BACN,EAAC;;;;KACH;CACF,CAAC,CAAC","sourcesContent":["\nimport { defineComponent, ref, computed } from \"vue\";\nimport { Post } from \"../mocks\";\nimport { useStore } from \"../store\";\nimport moment from \"moment\";\nimport TimelinePost from \"./TimelinePost.vue\";\n\ntype Period = \"Today\" | \"This Week\" | \"This Month\";\n\nfunction delay() {\n  return new Promise((res) => {\n    setTimeout(res, 2000);\n  });\n}\n\nexport default defineComponent({\n  name: \"Timeline\",\n\n  components: {\n    TimelinePost,\n  },\n\n  async setup() {\n    await delay();\n    const periods = [\"Today\", \"This Week\", \"This Month\"];\n    const selectedPeriod = ref<Period>(\"Today\");\n    const store = useStore();\n    const allPosts: Post[] = store\n      .getState()\n      .posts.ids.reduce<Post[]>((acc, id) => {\n        const thePost = store.getState().posts.all.get(id);\n        if (!thePost) {\n          throw Error(\"This post was not found\");\n        }\n        return acc.concat(thePost);\n      }, []);\n    const posts = computed(() => {\n      return allPosts.filter((post) => {\n        if (selectedPeriod.value === \"Today\") {\n          return post.created.isAfter(moment().subtract(1, \"day\"));\n        }\n        if (selectedPeriod.value === \"This Week\") {\n          return post.created.isAfter(moment().subtract(1, \"week\"));\n        }\n        if (selectedPeriod.value === \"This Month\") {\n          return post.created.isAfter(moment().subtract(1, \"month\"));\n        }\n        return false;\n      });\n    });\n\n    const selectPeriod = (period: Period) => {\n      selectedPeriod.value = period;\n    };\n\n    return {\n      periods,\n      selectedPeriod,\n      selectPeriod,\n      posts,\n    };\n  },\n});\n"]}]}