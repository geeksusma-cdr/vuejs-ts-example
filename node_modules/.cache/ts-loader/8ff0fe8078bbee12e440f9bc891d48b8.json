{"remainingRequest":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js??ref--12-1!/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue","mtime":1625832658226},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js","mtime":1625758098083},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js","mtime":1625817642607}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIGNvbXB1dGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IFRpbWVsaW5lUG9zdCBmcm9tICcuL1RpbWVsaW5lUG9zdC52dWUnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogJ1RpbWVsaW5lJywKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBUaW1lbGluZVBvc3Q6IFRpbWVsaW5lUG9zdAogICAgfSwKICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGVyaW9kcywgY3VycmVudFBlcmlvZCwgc3RvcmUsIGFsbFBvc3RzLCBwb3N0cywgc2V0UGVyaW9kOwogICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RzID0gWydUb2RheScsICdUaGlzIFdlZWsnLCAnVGhpcyBNb250aCddOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGVyaW9kID0gcmVmKCdUb2RheScpOwogICAgICAgICAgICAgICAgICAgICAgICBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXN0b3JlLmdldFN0YXRlKCkucG9zdHMubG9hZGVkKSByZXR1cm4gWzMgLypicmVhayovLCAyXTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc3RvcmUuZmV0Y2hQb3N0cygpXTsKICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgYWxsUG9zdHMgPSBzdG9yZS5nZXRTdGF0ZSgpLnBvc3RzLmlkcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVQb3N0ID0gc3RvcmUuZ2V0U3RhdGUoKS5wb3N0cy5hbGwuZ2V0KGlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhlUG9zdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdUaGlzIHBvc3Qgd2FzIG5vdCBmb3VuZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQodGhlUG9zdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zdHMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsUG9zdHMuZmlsdGVyKGZ1bmN0aW9uIChwb3N0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQZXJpb2QudmFsdWUgPT09ICdUb2RheScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc3QuY3JlYXRlZC5pc0FmdGVyKG1vbWVudCgpLnN1YnRyYWN0KDEsICdkYXknKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGVyaW9kLnZhbHVlID09PSAnVGhpcyBXZWVrJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zdC5jcmVhdGVkLmlzQWZ0ZXIobW9tZW50KCkuc3VidHJhY3QoMSwgJ3dlZWsnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGVyaW9kLnZhbHVlID09PSAnVGhpcyBNb250aCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc3QuY3JlYXRlZC5pc0FmdGVyKG1vbWVudCgpLnN1YnRyYWN0KDEsICdtb250aCcpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRQZXJpb2QgPSBmdW5jdGlvbiAocGVyaW9kKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGVyaW9kLnZhbHVlID0gcGVyaW9kOwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RzOiBwb3N0cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RzOiBwZXJpb2RzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBlcmlvZDogc2V0UGVyaW9kLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQZXJpb2Q6IGN1cnJlbnRQZXJpb2QKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KfSk7Cg=="},{"version":3,"file":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue.ts","sourceRoot":"","sources":["/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue?vue&type=script&lang=ts"],"names":[],"mappings":";AACA,OAAO,EAAE,eAAe,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,KAAK,CAAC;AACrD,OAAO,MAAM,MAAM,QAAQ,CAAA;AAE3B,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAA;AACnC,OAAO,YAAY,MAAM,oBAAoB,CAAA;AAE7C,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,UAAU;IAChB,UAAU,EAAE;QACV,YAAY,cAAA;KACb;IACK,KAAK,EAAX;;;;;;wBACQ,OAAO,GAAa,CAAC,OAAO,EAAE,WAAW,EAAE,YAAY,CAAC,CAAA;wBACxD,aAAa,GAAG,GAAG,CAAS,OAAO,CAAC,CAAA;wBACpC,KAAK,GAAG,QAAQ,EAAE,CAAA;6BACpB,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM,EAA9B,wBAA8B;wBAChC,qBAAM,KAAK,CAAC,UAAU,EAAE,EAAA;;wBAAxB,SAAwB,CAAA;;;wBAEpB,QAAQ,GAAW,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAS,UAAC,GAAG,EAAE,EAAE;4BACzE,IAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;4BAClD,IAAI,CAAC,OAAO,EAAE;gCACZ,MAAM,KAAK,CAAC,yBAAyB,CAAC,CAAA;6BACvC;4BACD,OAAO,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;wBAC5B,CAAC,EAAE,EAAE,CAAC,CAAA;wBACA,KAAK,GAAG,QAAQ,CAAC;4BACrB,OAAO,QAAQ,CAAC,MAAM,CAAC,UAAA,IAAI;gCACzB,IAAI,aAAa,CAAC,KAAK,KAAK,OAAO,EAAE;oCACnC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAA;iCACzD;gCACD,IAAI,aAAa,CAAC,KAAK,KAAK,WAAW,EAAE;oCACvC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAA;iCAC1D;gCACD,IAAI,aAAa,CAAC,KAAK,KAAK,YAAY,EAAE;oCACxC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAA;iCAC3D;gCACD,OAAO,KAAK,CAAA;4BACd,CAAC,CAAC,CAAA;wBACJ,CAAC,CAAC,CAAA;wBACI,SAAS,GAAG,UAAC,MAAc;4BAC/B,aAAa,CAAC,KAAK,GAAG,MAAM,CAAA;wBAC9B,CAAC,CAAA;wBACD,sBAAO;gCACL,KAAK,OAAA;gCACL,OAAO,SAAA;gCACP,SAAS,WAAA;gCACT,aAAa,eAAA;6BACd,EAAA;;;;KACF;CACF,CAAC,CAAC","sourcesContent":["\nimport { defineComponent, ref, computed } from 'vue';\nimport moment from 'moment'\nimport { today, thisWeek, thisMonth, Post } from '../mocks'\nimport { useStore } from '../store'\nimport TimelinePost from './TimelinePost.vue'\ntype Period = 'Today' | 'This Week' | 'This Month'\nexport default defineComponent({\n  name: 'Timeline',\n  components: {\n    TimelinePost\n  },\n  async setup() {\n    const periods: Period[] = ['Today', 'This Week', 'This Month']\n    const currentPeriod = ref<Period>('Today')\n    const store = useStore()\n    if (!store.getState().posts.loaded) {\n      await store.fetchPosts()\n    }\n    const allPosts: Post[] = store.getState().posts.ids.reduce<Post[]>((acc, id) => {\n      const thePost = store.getState().posts.all.get(id)\n      if (!thePost) {\n        throw Error('This post was not found')\n      }\n      return acc.concat(thePost)\n    }, [])\n    const posts = computed(() => {\n      return allPosts.filter(post => {\n        if (currentPeriod.value === 'Today') {\n          return post.created.isAfter(moment().subtract(1, 'day'))\n        }\n        if (currentPeriod.value === 'This Week') {\n          return post.created.isAfter(moment().subtract(1, 'week'))\n        }\n        if (currentPeriod.value === 'This Month') {\n          return post.created.isAfter(moment().subtract(1, 'month'))\n        }\n        return false\n      })\n    })\n    const setPeriod = (period: Period) => {\n      currentPeriod.value = period\n    }\n    return {\n      posts,\n      periods,\n      setPeriod,\n      currentPeriod\n    }\n  }\n});\n"]}]}