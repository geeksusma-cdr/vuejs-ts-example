{"remainingRequest":"/Users/geeksusma/vuejs-ts-example/node_modules/thread-loader/dist/cjs.js!/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js??ref--12-2!/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/PostEditor.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/geeksusma/vuejs-ts-example/src/components/PostEditor.vue","mtime":1626085540882},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/thread-loader/dist/cjs.js","mtime":1625758098066},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js","mtime":1625758098083},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js","mtime":1625817642607}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGUsIHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IFBvc3RXcml0ZXIgZnJvbSAnLi9Qb3N0V3JpdGVyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgUG9zdFdyaXRlcjogUG9zdFdyaXRlcgogICAgfSwKICAgIHNldHVwOiBmdW5jdGlvbiAocHJvcHMpIHsKICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzdG9yZSwgcm91dGVyLCBpZCwgcG9zdCwgc2F2ZTsKICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSB1c2VSb3V0ZSgpLnBhcmFtcy5pZDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhc3RvcmUuZ2V0U3RhdGUoKS5wb3N0cy5sb2FkZWQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdG9yZS5mZXRjaFBvc3RzKCldOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpOwogICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICBwb3N0ID0gc3RvcmUuZ2V0U3RhdGUoKS5wb3N0cy5hbGwuZ2V0KGlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwb3N0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUG9zdCB3YXMgbm90IGZvdW5kLicpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3N0LmF1dGhvcklkICE9PSBzdG9yZS5nZXRTdGF0ZSgpLmF1dGhvcnMuY3VycmVudFVzZXJJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzYXZlID0gZnVuY3Rpb24gKHBvc3QpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgc3RvcmUudXBkYXRlUG9zdChwb3N0KV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyB9OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3Q6IHBvc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZTogc2F2ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQp9KTsK"},{"version":3,"file":"/Users/geeksusma/vuejs-ts-example/src/components/PostEditor.vue.ts","sourceRoot":"","sources":["/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/PostEditor.vue?vue&type=script&lang=ts"],"names":[],"mappings":";AACA,OAAO,EAAE,eAAe,EAAE,MAAM,KAAK,CAAC;AACtC,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,YAAY,CAAA;AAChD,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAA;AAEnC,OAAO,UAAU,MAAM,kBAAkB,CAAA;AACzC,eAAe,eAAe,CAAC;IAC3B,UAAU,EAAE;QACR,UAAU,YAAA;KACb;IACK,KAAK,EAAX,UAAY,KAAK;;;;;;;wBACP,KAAK,GAAG,QAAQ,EAAE,CAAA;wBAClB,MAAM,GAAG,SAAS,EAAE,CAAA;wBACpB,EAAE,GAAG,QAAQ,EAAE,CAAC,MAAM,CAAC,EAAY,CAAA;6BACrC,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM,EAA9B,wBAA8B;wBAC9B,qBAAM,KAAK,CAAC,UAAU,EAAE,EAAA;;wBAAxB,SAAwB,CAAA;;;wBAEtB,IAAI,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;wBAC/C,IAAI,CAAC,IAAI,EAAE;4BACP,MAAM,KAAK,CAAC,qBAAqB,CAAC,CAAA;yBACrC;wBACD,IAAI,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,aAAa,EAAE;4BAC1D,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;yBACnB;wBACK,IAAI,GAAG,UAAO,IAAU;;;4CAC1B,qBAAM,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAA;;wCAA5B,SAA4B,CAAA;wCAC5B,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;;;;6BACnB,CAAA;wBACD,sBAAO;gCACH,IAAI,MAAA;gCACJ,IAAI,MAAA;6BACP,EAAA;;;;KACJ;CACJ,CAAC,CAAC","sourcesContent":["\nimport { defineComponent } from 'vue';\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from '../store'\nimport { Post } from '../mocks';\nimport PostWriter from './PostWriter.vue'\nexport default defineComponent({\n    components: {\n        PostWriter\n    },\n    async setup(props) {\n        const store = useStore()\n        const router = useRouter()\n        const id = useRoute().params.id as string\n        if (!store.getState().posts.loaded) {\n            await store.fetchPosts()\n        }\n        const post = store.getState().posts.all.get(id)\n        if (!post) {\n            throw Error('Post was not found.')\n        }\n        if (post.authorId !== store.getState().authors.currentUserId) {\n            router.push('/')\n        }\n        const save = async (post: Post) => {\n            await store.updatePost(post)\n            router.push('/')\n        }\n        return {\n            post,\n            save\n        }\n    }\n});\n"]}]}