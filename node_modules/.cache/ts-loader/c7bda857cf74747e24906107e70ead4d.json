{"remainingRequest":"/Users/geeksusma/vuejs-ts-example/node_modules/thread-loader/dist/cjs.js!/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js??ref--12-2!/Users/geeksusma/vuejs-ts-example/src/router.ts","dependencies":[{"path":"/Users/geeksusma/vuejs-ts-example/src/router.ts","mtime":1626086061162},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBFZGl0UG9zdCBmcm9tICcuL2NvbXBvbmVudHMvRWRpdFBvc3QudnVlJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi9jb21wb25lbnRzL0hvbWUudnVlJzsKaW1wb3J0IE5ld1Bvc3QgZnJvbSAnLi9jb21wb25lbnRzL05ld1Bvc3QudnVlJzsKaW1wb3J0IFNob3dQb3N0IGZyb20gJy4vY29tcG9uZW50cy9TaG93UG9zdC52dWUnOwpleHBvcnQgZnVuY3Rpb24gcm91dGVyV2l0aFN0b3JlKHN0b3JlKSB7CiAgICBjb25zdCByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogICAgICAgIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/ICcvdnVlanMtY29tcG9zaXRpb24tYXBpLWNvdXJzZScgOiB1bmRlZmluZWQpLAogICAgICAgIHJvdXRlczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IEhvbWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcGF0aDogJy9wb3N0cy86aWQvZWRpdCcsCiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IEVkaXRQb3N0LAogICAgICAgICAgICAgICAgbWV0YTogewogICAgICAgICAgICAgICAgICAgIHJlcXVpcmVzQXV0aDogdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBwYXRoOiAnL3Bvc3RzLzppZCcsCiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFNob3dQb3N0CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHBhdGg6ICcvcG9zdHMvbmV3JywKICAgICAgICAgICAgICAgIGNvbXBvbmVudDogTmV3UG9zdCwKICAgICAgICAgICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgICAgICAgICByZXF1aXJlc0F1dGg6IHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIF0KICAgIH0pOwogICAgcm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tLCBuZXh0KSA9PiB7CiAgICAgICAgY29uc3QgYXV0aCA9ICEhc3RvcmUuZ2V0U3RhdGUoKS5hdXRob3JzLmN1cnJlbnRVc2VySWQ7CiAgICAgICAgaWYgKCF0by5tZXRhLnJlcXVpcmVzQXV0aCkgewogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHRvLm1ldGEucmVxdWlyZXNBdXRoICYmIGF1dGgpIHsKICAgICAgICAgICAgbmV4dCgpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgICBwYXRoOiAnLycKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gcm91dGVyOwp9Cg=="},{"version":3,"file":"/Users/geeksusma/vuejs-ts-example/src/router.ts","sourceRoot":"","sources":["/Users/geeksusma/vuejs-ts-example/src/router.ts"],"names":[],"mappings":"AAAA,OAAO,EACH,YAAY,EACZ,gBAAgB,EACnB,MAAM,YAAY,CAAA;AACnB,OAAO,QAAQ,MAAM,2BAA2B,CAAA;AAChD,OAAO,IAAI,MAAM,uBAAuB,CAAA;AACxC,OAAO,OAAO,MAAM,0BAA0B,CAAA;AAC9C,OAAO,QAAQ,MAAM,2BAA2B,CAAA;AAIhD,MAAM,UAAU,eAAe,CAAC,KAAY;IACxC,MAAM,MAAM,GAAG,YAAY,CAAC;QACxB,OAAO,EAAE,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,CAAC,CAAC,CAAC,+BAA+B,CAAC,CAAC,CAAC,SAAS,CAAC;QAC9G,MAAM,EAAE;YACJ;gBACI,IAAI,EAAE,GAAG;gBACT,SAAS,EAAE,IAAI;aAClB;YACD;gBACI,IAAI,EAAE,iBAAiB;gBACvB,SAAS,EAAE,QAAQ;gBACnB,IAAI,EAAE;oBACF,YAAY,EAAE,IAAI;iBACrB;aACJ;YACD;gBACI,IAAI,EAAE,YAAY;gBAClB,SAAS,EAAE,QAAQ;aACtB;YACD;gBACI,IAAI,EAAE,YAAY;gBAClB,SAAS,EAAE,OAAO;gBAClB,IAAI,EAAE;oBACF,YAAY,EAAE,IAAI;iBACrB;aACJ;SACJ;KACJ,CAAC,CAAA;IAEF,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;QACjC,MAAM,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,aAAa,CAAA;QAErD,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE;YACvB,IAAI,EAAE,CAAA;YACN,OAAM;SACT;QAED,IAAI,EAAE,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;YAC9B,IAAI,EAAE,CAAA;SACT;aAAM;YACH,IAAI,CAAC;gBACD,IAAI,EAAE,GAAG;aACZ,CAAC,CAAA;SACL;IACL,CAAC,CAAC,CAAA;IAEF,OAAO,MAAM,CAAA;AACjB,CAAC","sourcesContent":["import {\n    createRouter,\n    createWebHistory\n} from 'vue-router'\nimport EditPost from './components/EditPost.vue'\nimport Home from './components/Home.vue'\nimport NewPost from './components/NewPost.vue'\nimport ShowPost from './components/ShowPost.vue'\nimport { Store } from './store'\n\n\nexport function routerWithStore(store: Store) {\n    const router = createRouter({\n        history: createWebHistory(process.env.NODE_ENV === 'production' ? '/vuejs-composition-api-course' : undefined),\n        routes: [\n            {\n                path: '/',\n                component: Home\n            },\n            {\n                path: '/posts/:id/edit',\n                component: EditPost,\n                meta: {\n                    requiresAuth: true\n                }\n            },\n            {\n                path: '/posts/:id',\n                component: ShowPost\n            },\n            {\n                path: '/posts/new',\n                component: NewPost,\n                meta: {\n                    requiresAuth: true\n                }\n            }\n        ]\n    })\n\n    router.beforeEach((to, from, next) => {\n        const auth = !!store.getState().authors.currentUserId\n\n        if (!to.meta.requiresAuth) {\n            next()\n            return\n        }\n\n        if (to.meta.requiresAuth && auth) {\n            next()\n        } else {\n            next({\n                path: '/'\n            })\n        }\n    })\n\n    return router\n}"]}]}