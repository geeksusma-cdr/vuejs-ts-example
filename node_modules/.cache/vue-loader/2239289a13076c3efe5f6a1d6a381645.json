{"remainingRequest":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue?vue&type=template&id=7f3aebf1&scoped=true","dependencies":[{"path":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue","mtime":1626092007815},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1625758104484},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js","mtime":1625758104484}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0ibWVzc2FnZSBpcy1wcmltYXJ5IGlzLW1hcmdpbmxlc3MiPgogICAgPGRpdiBjbGFzcz0ibWVzc2FnZS1oZWFkZXIiPgogICAgICA8ZGl2PlBvc3RzIGZvciB7eyBjdXJyZW50UGVyaW9kLnRvTG93ZXJDYXNlKCkgfX08L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2PgogIDxuYXYgY2xhc3M9ImlzLXByaW1hcnkgcGFuZWwiPgogICAgPHNwYW4gY2xhc3M9InBhbmVsLXRhYnMiPgogICAgICA8YSAKICAgICAgICB2LWZvcj0icGVyaW9kIGluIHBlcmlvZHMiIAogICAgICAgIDprZXk9InBlcmlvZCIKICAgICAgICA6Y2xhc3M9InsgJ2lzLWFjdGl2ZSc6IHBlcmlvZCA9PT0gY3VycmVudFBlcmlvZCB9IgogICAgICAgIDpkYXRhLXRlc3Q9InBlcmlvZCIKICAgICAgICBAY2xpY2s9InNldFBlcmlvZChwZXJpb2QpIgogICAgICA+CiAgICAgICAge3sgcGVyaW9kIH19CiAgICAgIDwvYT4KICAgIDwvc3Bhbj4KCiAgICA8dGltZWxpbmUtcG9zdAogICAgICB2LWZvcj0icG9zdCBpbiBwb3N0cyIKICAgICAgOmtleT0icG9zdC5pZCIKICAgICAgOnBvc3Q9InBvc3QiCiAgICAgIGNsYXNzPSJwYW5lbC1ibG9jayIKICAgIC8+CiAgPC9uYXY+Cg=="},{"version":3,"sources":["/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue"],"names":[],"mappings":"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","file":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"message is-primary is-marginless\">\n    <div class=\"message-header\">\n      <div>Posts for {{ currentPeriod.toLowerCase() }}</div>\n    </div>\n  </div>\n  <nav class=\"is-primary panel\">\n    <span class=\"panel-tabs\">\n      <a \n        v-for=\"period in periods\" \n        :key=\"period\"\n        :class=\"{ 'is-active': period === currentPeriod }\"\n        :data-test=\"period\"\n        @click=\"setPeriod(period)\"\n      >\n        {{ period }}\n      </a>\n    </span>\n\n    <timeline-post\n      v-for=\"post in posts\"\n      :key=\"post.id\"\n      :post=\"post\"\n      class=\"panel-block\"\n    />\n  </nav>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed } from 'vue';\nimport moment from 'moment'\nimport { today, thisWeek, thisMonth, Post } from '../mocks'\nimport { useStore } from '../store'\nimport TimelinePost from './TimelinePost.vue'\n\ntype Period = 'Today' | 'This Week' | 'This Month'\n\nexport default defineComponent({\n  name: 'Timeline',\n\n  components: {\n    TimelinePost\n  },\n\n  async setup() {\n    const periods: Period[] = ['Today', 'This Week', 'This Month']\n    const currentPeriod = ref<Period>('Today')\n    const store = useStore()\n\n    if (!store.getState().posts.loaded) {\n      await store.fetchPosts()\n    }\n\n    const allPosts: Post[] = store.getState().posts.ids.reduce<Post[]>((acc, id) => {\n      const thePost = store.getState().posts.all.get(id)\n      if (!thePost) {\n        throw Error('This post was not found')\n      }\n      return acc.concat(thePost)\n    }, [])\n\n    const posts = computed(() => {\n      return allPosts.filter(post => {\n        if (currentPeriod.value === 'Today') {\n          return post.created.isAfter(moment().subtract(1, 'day'))\n        }\n\n        if (currentPeriod.value === 'This Week') {\n          return post.created.isAfter(moment().subtract(1, 'week'))\n        }\n\n        if (currentPeriod.value === 'This Month') {\n          return post.created.isAfter(moment().subtract(1, 'month'))\n        }\n        return false\n      })\n    })\n\n    const setPeriod = (period: Period) => {\n      currentPeriod.value = period\n    }\n\n    return {\n      posts,\n      periods,\n      setPeriod,\n      currentPeriod\n    }\n  }\n});\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"]}]}