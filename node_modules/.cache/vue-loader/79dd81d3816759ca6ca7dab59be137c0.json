{"remainingRequest":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/NewPost.vue?vue&type=template&id=0de4e860","dependencies":[{"path":"/Users/geeksusma/vuejs-ts-example/src/components/NewPost.vue","mtime":1626092007813},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1625758104484},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js","mtime":1625758104484}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPHBvc3Qtd3JpdGVyIAogICAgOnBvc3Q9Im5ld1Bvc3QiIAogICAgQHNhdmU9InNhdmUiCiAgLz4K"},{"version":3,"sources":["/Users/geeksusma/vuejs-ts-example/src/components/NewPost.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACb,CAAC","file":"/Users/geeksusma/vuejs-ts-example/src/components/NewPost.vue","sourceRoot":"","sourcesContent":["<template>\n  <post-writer \n    :post=\"newPost\" \n    @save=\"save\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { Post } from '../mocks';\nimport PostWriter from './PostWriter.vue'\nimport moment from 'moment';\nimport { useStore } from '../store';\nimport { useRouter } from 'vue-router'\n\nexport default defineComponent({\n  components: {\n    PostWriter\n  },\n\n  setup() {\n    const store = useStore()\n    const router = useRouter()\n\n    const authorId = store.getState().authors.currentUserId\n\n    if (!authorId) {\n      throw Error('currentUserId was not found.')\n    }\n\n    const newPost: Post = {\n      id: '-1',\n      title: 'Enter your title...',\n      created: moment().subtract(1, 'second'),\n      authorId\n    }\n\n    const save = async (post: Post) => {\n      await store.createPost(post)\n      router.push('/')\n    }\n\n    return {\n      newPost,\n      save\n    }\n  }\n});\n</script>\n\n<style>\n</style>\n"]}]}