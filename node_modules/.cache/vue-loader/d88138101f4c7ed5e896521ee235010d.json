{"remainingRequest":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue","mtime":1625832658226},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js","mtime":1625758098083},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js","mtime":1625817642607}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgeyB0b2RheSwgdGhpc1dlZWssIHRoaXNNb250aCwgUG9zdCB9IGZyb20gJy4uL21vY2tzJwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJy4uL3N0b3JlJwppbXBvcnQgVGltZWxpbmVQb3N0IGZyb20gJy4vVGltZWxpbmVQb3N0LnZ1ZScKdHlwZSBQZXJpb2QgPSAnVG9kYXknIHwgJ1RoaXMgV2VlaycgfCAnVGhpcyBNb250aCcKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAnVGltZWxpbmUnLAogIGNvbXBvbmVudHM6IHsKICAgIFRpbWVsaW5lUG9zdAogIH0sCiAgYXN5bmMgc2V0dXAoKSB7CiAgICBjb25zdCBwZXJpb2RzOiBQZXJpb2RbXSA9IFsnVG9kYXknLCAnVGhpcyBXZWVrJywgJ1RoaXMgTW9udGgnXQogICAgY29uc3QgY3VycmVudFBlcmlvZCA9IHJlZjxQZXJpb2Q+KCdUb2RheScpCiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCkKICAgIGlmICghc3RvcmUuZ2V0U3RhdGUoKS5wb3N0cy5sb2FkZWQpIHsKICAgICAgYXdhaXQgc3RvcmUuZmV0Y2hQb3N0cygpCiAgICB9CiAgICBjb25zdCBhbGxQb3N0czogUG9zdFtdID0gc3RvcmUuZ2V0U3RhdGUoKS5wb3N0cy5pZHMucmVkdWNlPFBvc3RbXT4oKGFjYywgaWQpID0+IHsKICAgICAgY29uc3QgdGhlUG9zdCA9IHN0b3JlLmdldFN0YXRlKCkucG9zdHMuYWxsLmdldChpZCkKICAgICAgaWYgKCF0aGVQb3N0KSB7CiAgICAgICAgdGhyb3cgRXJyb3IoJ1RoaXMgcG9zdCB3YXMgbm90IGZvdW5kJykKICAgICAgfQogICAgICByZXR1cm4gYWNjLmNvbmNhdCh0aGVQb3N0KQogICAgfSwgW10pCiAgICBjb25zdCBwb3N0cyA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIGFsbFBvc3RzLmZpbHRlcihwb3N0ID0+IHsKICAgICAgICBpZiAoY3VycmVudFBlcmlvZC52YWx1ZSA9PT0gJ1RvZGF5JykgewogICAgICAgICAgcmV0dXJuIHBvc3QuY3JlYXRlZC5pc0FmdGVyKG1vbWVudCgpLnN1YnRyYWN0KDEsICdkYXknKSkKICAgICAgICB9CiAgICAgICAgaWYgKGN1cnJlbnRQZXJpb2QudmFsdWUgPT09ICdUaGlzIFdlZWsnKSB7CiAgICAgICAgICByZXR1cm4gcG9zdC5jcmVhdGVkLmlzQWZ0ZXIobW9tZW50KCkuc3VidHJhY3QoMSwgJ3dlZWsnKSkKICAgICAgICB9CiAgICAgICAgaWYgKGN1cnJlbnRQZXJpb2QudmFsdWUgPT09ICdUaGlzIE1vbnRoJykgewogICAgICAgICAgcmV0dXJuIHBvc3QuY3JlYXRlZC5pc0FmdGVyKG1vbWVudCgpLnN1YnRyYWN0KDEsICdtb250aCcpKQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfSkKICAgIH0pCiAgICBjb25zdCBzZXRQZXJpb2QgPSAocGVyaW9kOiBQZXJpb2QpID0+IHsKICAgICAgY3VycmVudFBlcmlvZC52YWx1ZSA9IHBlcmlvZAogICAgfQogICAgcmV0dXJuIHsKICAgICAgcG9zdHMsCiAgICAgIHBlcmlvZHMsCiAgICAgIHNldFBlcmlvZCwKICAgICAgY3VycmVudFBlcmlvZAogICAgfQogIH0KfSk7Cg=="},{"version":3,"sources":["/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue"],"names":[],"mappings":";AAsBA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACpD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACjD,CAAC,CAAC,CAAC,CA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CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QAC7B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACnC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzD;QACA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACvC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D;QACA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACxC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D;QACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb,CAAC;IACH,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;MACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7B;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACd;EACF;AACF,CAAC,CAAC","file":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"message is-primary is-marginless\">\n    <div class=\"message-header\">\n      <div>Posts for {{ currentPeriod.toLowerCase() }}</div>\n    </div>\n  </div>\n  <nav class=\"is-primary panel\">\n    <span class=\"panel-tabs\">\n      <a\n        v-for=\"period in periods\"\n        :key=\"period\"\n        :class=\"{ 'is-active': period === currentPeriod }\"\n        :data-test=\"period\"\n        @click=\"setPeriod(period)\"\n      >{{ period }}</a>\n    </span>\n\n    <timeline-post v-for=\"post in posts\" :key=\"post.id\" :post=\"post\" class=\"panel-block\" />\n  </nav>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed } from 'vue';\nimport moment from 'moment'\nimport { today, thisWeek, thisMonth, Post } from '../mocks'\nimport { useStore } from '../store'\nimport TimelinePost from './TimelinePost.vue'\ntype Period = 'Today' | 'This Week' | 'This Month'\nexport default defineComponent({\n  name: 'Timeline',\n  components: {\n    TimelinePost\n  },\n  async setup() {\n    const periods: Period[] = ['Today', 'This Week', 'This Month']\n    const currentPeriod = ref<Period>('Today')\n    const store = useStore()\n    if (!store.getState().posts.loaded) {\n      await store.fetchPosts()\n    }\n    const allPosts: Post[] = store.getState().posts.ids.reduce<Post[]>((acc, id) => {\n      const thePost = store.getState().posts.all.get(id)\n      if (!thePost) {\n        throw Error('This post was not found')\n      }\n      return acc.concat(thePost)\n    }, [])\n    const posts = computed(() => {\n      return allPosts.filter(post => {\n        if (currentPeriod.value === 'Today') {\n          return post.created.isAfter(moment().subtract(1, 'day'))\n        }\n        if (currentPeriod.value === 'This Week') {\n          return post.created.isAfter(moment().subtract(1, 'week'))\n        }\n        if (currentPeriod.value === 'This Month') {\n          return post.created.isAfter(moment().subtract(1, 'month'))\n        }\n        return false\n      })\n    })\n    const setPeriod = (period: Period) => {\n      currentPeriod.value = period\n    }\n    return {\n      posts,\n      periods,\n      setPeriod,\n      currentPeriod\n    }\n  }\n});\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"]}]}