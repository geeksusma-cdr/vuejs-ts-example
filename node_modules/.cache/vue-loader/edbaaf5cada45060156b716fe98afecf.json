{"remainingRequest":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue","mtime":1626092007815},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/ts-loader/index.js","mtime":1625758098083},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/cache-loader/dist/cjs.js","mtime":1625758098049},{"path":"/Users/geeksusma/vuejs-ts-example/node_modules/vue-loader-v16/dist/index.js","mtime":1625758104484}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgeyB0b2RheSwgdGhpc1dlZWssIHRoaXNNb250aCwgUG9zdCB9IGZyb20gJy4uL21vY2tzJwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJy4uL3N0b3JlJwppbXBvcnQgVGltZWxpbmVQb3N0IGZyb20gJy4vVGltZWxpbmVQb3N0LnZ1ZScKCnR5cGUgUGVyaW9kID0gJ1RvZGF5JyB8ICdUaGlzIFdlZWsnIHwgJ1RoaXMgTW9udGgnCgpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICdUaW1lbGluZScsCgogIGNvbXBvbmVudHM6IHsKICAgIFRpbWVsaW5lUG9zdAogIH0sCgogIGFzeW5jIHNldHVwKCkgewogICAgY29uc3QgcGVyaW9kczogUGVyaW9kW10gPSBbJ1RvZGF5JywgJ1RoaXMgV2VlaycsICdUaGlzIE1vbnRoJ10KICAgIGNvbnN0IGN1cnJlbnRQZXJpb2QgPSByZWY8UGVyaW9kPignVG9kYXknKQogICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpCgogICAgaWYgKCFzdG9yZS5nZXRTdGF0ZSgpLnBvc3RzLmxvYWRlZCkgewogICAgICBhd2FpdCBzdG9yZS5mZXRjaFBvc3RzKCkKICAgIH0KCiAgICBjb25zdCBhbGxQb3N0czogUG9zdFtdID0gc3RvcmUuZ2V0U3RhdGUoKS5wb3N0cy5pZHMucmVkdWNlPFBvc3RbXT4oKGFjYywgaWQpID0+IHsKICAgICAgY29uc3QgdGhlUG9zdCA9IHN0b3JlLmdldFN0YXRlKCkucG9zdHMuYWxsLmdldChpZCkKICAgICAgaWYgKCF0aGVQb3N0KSB7CiAgICAgICAgdGhyb3cgRXJyb3IoJ1RoaXMgcG9zdCB3YXMgbm90IGZvdW5kJykKICAgICAgfQogICAgICByZXR1cm4gYWNjLmNvbmNhdCh0aGVQb3N0KQogICAgfSwgW10pCgogICAgY29uc3QgcG9zdHMgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiBhbGxQb3N0cy5maWx0ZXIocG9zdCA9PiB7CiAgICAgICAgaWYgKGN1cnJlbnRQZXJpb2QudmFsdWUgPT09ICdUb2RheScpIHsKICAgICAgICAgIHJldHVybiBwb3N0LmNyZWF0ZWQuaXNBZnRlcihtb21lbnQoKS5zdWJ0cmFjdCgxLCAnZGF5JykpCiAgICAgICAgfQoKICAgICAgICBpZiAoY3VycmVudFBlcmlvZC52YWx1ZSA9PT0gJ1RoaXMgV2VlaycpIHsKICAgICAgICAgIHJldHVybiBwb3N0LmNyZWF0ZWQuaXNBZnRlcihtb21lbnQoKS5zdWJ0cmFjdCgxLCAnd2VlaycpKQogICAgICAgIH0KCiAgICAgICAgaWYgKGN1cnJlbnRQZXJpb2QudmFsdWUgPT09ICdUaGlzIE1vbnRoJykgewogICAgICAgICAgcmV0dXJuIHBvc3QuY3JlYXRlZC5pc0FmdGVyKG1vbWVudCgpLnN1YnRyYWN0KDEsICdtb250aCcpKQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfSkKICAgIH0pCgogICAgY29uc3Qgc2V0UGVyaW9kID0gKHBlcmlvZDogUGVyaW9kKSA9PiB7CiAgICAgIGN1cnJlbnRQZXJpb2QudmFsdWUgPSBwZXJpb2QKICAgIH0KCiAgICByZXR1cm4gewogICAgICBwb3N0cywKICAgICAgcGVyaW9kcywKICAgICAgc2V0UGVyaW9kLAogICAgICBjdXJyZW50UGVyaW9kCiAgICB9CiAgfQp9KTsK"},{"version":3,"sources":["/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue"],"names":[],"mappings":";AA6BA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACpD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE5C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEjD,CAAC,CAAC,CAAC,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;MAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QAC7B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACnC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzD;;QAEA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACvC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D;;QAEA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACxC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D;QACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb,CAAC;IACH,CAAC;;IAED,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;MACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7B;;IAEA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACd;EACF;AACF,CAAC,CAAC","file":"/Users/geeksusma/vuejs-ts-example/src/components/Timeline.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"message is-primary is-marginless\">\n    <div class=\"message-header\">\n      <div>Posts for {{ currentPeriod.toLowerCase() }}</div>\n    </div>\n  </div>\n  <nav class=\"is-primary panel\">\n    <span class=\"panel-tabs\">\n      <a \n        v-for=\"period in periods\" \n        :key=\"period\"\n        :class=\"{ 'is-active': period === currentPeriod }\"\n        :data-test=\"period\"\n        @click=\"setPeriod(period)\"\n      >\n        {{ period }}\n      </a>\n    </span>\n\n    <timeline-post\n      v-for=\"post in posts\"\n      :key=\"post.id\"\n      :post=\"post\"\n      class=\"panel-block\"\n    />\n  </nav>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed } from 'vue';\nimport moment from 'moment'\nimport { today, thisWeek, thisMonth, Post } from '../mocks'\nimport { useStore } from '../store'\nimport TimelinePost from './TimelinePost.vue'\n\ntype Period = 'Today' | 'This Week' | 'This Month'\n\nexport default defineComponent({\n  name: 'Timeline',\n\n  components: {\n    TimelinePost\n  },\n\n  async setup() {\n    const periods: Period[] = ['Today', 'This Week', 'This Month']\n    const currentPeriod = ref<Period>('Today')\n    const store = useStore()\n\n    if (!store.getState().posts.loaded) {\n      await store.fetchPosts()\n    }\n\n    const allPosts: Post[] = store.getState().posts.ids.reduce<Post[]>((acc, id) => {\n      const thePost = store.getState().posts.all.get(id)\n      if (!thePost) {\n        throw Error('This post was not found')\n      }\n      return acc.concat(thePost)\n    }, [])\n\n    const posts = computed(() => {\n      return allPosts.filter(post => {\n        if (currentPeriod.value === 'Today') {\n          return post.created.isAfter(moment().subtract(1, 'day'))\n        }\n\n        if (currentPeriod.value === 'This Week') {\n          return post.created.isAfter(moment().subtract(1, 'week'))\n        }\n\n        if (currentPeriod.value === 'This Month') {\n          return post.created.isAfter(moment().subtract(1, 'month'))\n        }\n        return false\n      })\n    })\n\n    const setPeriod = (period: Period) => {\n      currentPeriod.value = period\n    }\n\n    return {\n      posts,\n      periods,\n      setPeriod,\n      currentPeriod\n    }\n  }\n});\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"]}]}